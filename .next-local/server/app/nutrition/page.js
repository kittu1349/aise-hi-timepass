(()=>{var e={};e.id=555,e.ids=[555],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},54029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var s=a(50482),i=a(69108),r=a(62563),n=a.n(r),l=a(68300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(t,d);let o=["",{children:["nutrition",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,12289)),"C:\\Users\\kittu\\OneDrive\\Desktop\\deficit tracker\\nextjs\\app\\nutrition\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,69201)),"C:\\Users\\kittu\\OneDrive\\Desktop\\deficit tracker\\nextjs\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\kittu\\OneDrive\\Desktop\\deficit tracker\\nextjs\\app\\nutrition\\page.tsx"],x="/nutrition/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/nutrition/page",pathname:"/nutrition",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},78938:(e,t,a)=>{Promise.resolve().then(a.bind(a,4673))},4673:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(95344),i=a(3729),r=a(67064),n=a(69224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,n.Z)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),d=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var o=a(46064),c=a(55794);function x({selectedDate:e}){let[t,a]=(0,i.useState)([]),[r,n]=(0,i.useState)([]),[l,d]=(0,i.useState)(""),[o,c]=(0,i.useState)(null),[x,m]=(0,i.useState)(""),[u,p]=(0,i.useState)(!1),h=async()=>{let t=await fetch(`/api/food-entries?date=${e}`);a(await t.json())};(0,i.useEffect)(()=>{h()},[e]),(0,i.useEffect)(()=>{let e=!0,t=async()=>{let t=await fetch(`/api/food-items?q=${encodeURIComponent(l)}`),a=await t.json();e&&n(a)};return l.length>=1?t():n([]),()=>{e=!1}},[l]);let y=(0,i.useMemo)(()=>t.reduce((e,t)=>e+t.totalCalories,0),[t]),g=async t=>{if(t.preventDefault(),o&&x){p(!0);try{if(!(await fetch("/api/food-entries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e,foodItemId:o.id,quantity:Number(x)})})).ok)throw Error("Failed");d(""),c(null),m(""),await h()}finally{p(!1)}}},f=async e=>{p(!0);try{await fetch(`/api/food-entries/${e}`,{method:"DELETE"}),await h()}finally{p(!1)}};return(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsxs)("form",{onSubmit:g,className:"card grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("label",{className:"label",children:"Food"}),s.jsx("input",{className:"input-field",placeholder:"Search food...",value:o?o.name:l,onChange:e=>{c(null),d(e.target.value)},autoComplete:"off"}),r.length>0&&!o&&s.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-sm max-h-56 overflow-auto",children:r.map(e=>(0,s.jsxs)("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-gray-50",onClick:()=>{c(e),d("")},children:[s.jsx("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.caloriesPer100g," kcal / 100g"]})]},e.id))})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"label",children:"Quantity (g)"}),s.jsx("input",{className:"input-field",type:"number",step:"1",value:x,onChange:e=>m(e.target.value),required:!0})]}),s.jsx("div",{children:s.jsx("button",{className:"btn-primary w-full",disabled:u||!o,children:"Add Entry"})})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:"Entries"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Total: ",Math.round(y)," kcal"]})]}),(0,s.jsxs)("div",{className:"mt-3 divide-y",children:[t.map(e=>(0,s.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"font-medium",children:e.foodItem.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.quantity," g \xb7 ",Math.round(e.totalCalories)," kcal"]})]}),s.jsx("button",{className:"text-danger-600 hover:underline",onClick:()=>f(e.id),disabled:u,children:"Delete"})]},e.id)),0===t.length&&s.jsx("div",{className:"text-sm text-gray-500 py-6",children:"No entries for this date."})]})]})]})}var m=a(65829);function u(e){return Math.round(e)}function p({selectedDate:e}){let[t,a]=(0,i.useState)(null),[r,n]=(0,i.useState)(0);(0,i.useEffect)(()=>{(async()=>{let[t,s]=await Promise.all([fetch("/api/profile"),fetch(`/api/food-entries?date=${e}`)]),i=await t.json(),r=await s.json();a(i?.targetCalories??null),n(r.reduce((e,t)=>e+(t.totalCalories||0),0))})()},[e]);let l=(0,i.useMemo)(()=>null!=t?t-r:null,[t,r]),d=(0,i.useMemo)(()=>t&&t>0?Math.min(100,Math.max(0,r/t*100)):0,[t,r]);return(0,s.jsxs)("div",{className:"card",children:[s.jsx("div",{className:"font-semibold mb-4",children:"Daily Progress"}),null==t?s.jsx("div",{className:"text-sm text-gray-500",children:"Set up your profile to get a daily target."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-primary-600",children:u(t)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Target"})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u(r)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Consumed"})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:`text-2xl font-bold ${l>=0?"text-success-600":"text-danger-600"}`,children:u(Math.abs(l))}),s.jsx("div",{className:"text-sm text-gray-600",children:l>=0?"Remaining":"Over"})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"bg-primary-600 h-3",style:{width:d+"%"}})})]})]})}function h(){let[e,t]=(0,i.useState)("tracker"),[a,n]=(0,i.useState)(new Date().toISOString().split("T")[0]),u=[{id:"tracker",label:"Food Tracker",icon:l},{id:"database",label:"Food Database",icon:d},{id:"progress",label:"Daily Progress",icon:o.Z}];return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Nutrition Tracking"}),s.jsx("p",{className:"text-gray-600",children:"Monitor your daily food intake and hit your calorie targets"})]}),s.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card mb-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(c.Z,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"date",value:a,onChange:e=>n(e.target.value),className:"input-field max-w-xs"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Today: ",new Date().toLocaleDateString()]})]})}),s.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:u.map(a=>{let i=a.icon;return(0,s.jsxs)("button",{onClick:()=>t(a.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors duration-200 ${e===a.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(i,{className:"w-4 h-4"}),s.jsx("span",{children:a.label})]},a.id)})})})}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:["tracker"===e&&s.jsx(x,{selectedDate:a}),"database"===e&&s.jsx(m.l,{}),"progress"===e&&s.jsx(p,{selectedDate:a})]},e)]})})}},55794:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},12289:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>n});let s=(0,a(86843).createProxy)(String.raw`C:\Users\kittu\OneDrive\Desktop\deficit tracker\nextjs\app\nutrition\page.tsx`),{__esModule:i,$$typeof:r}=s,n=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,905,377],()=>a(54029));module.exports=s})();