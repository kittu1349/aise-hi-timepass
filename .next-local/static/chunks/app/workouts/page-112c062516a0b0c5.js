(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{62898:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let a=(0,s.forwardRef)(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,...m},u)=>(0,s.createElement)("svg",{ref:u,...i,width:n,height:n,stroke:a,strokeWidth:c?24*Number(l)/Number(n):l,className:["lucide",`lucide-${r(e)}`,d].join(" "),...m},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return a.displayName=`${e}`,a}},28203:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},67842:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]])},85790:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1622:function(e,t,a){Promise.resolve().then(a.bind(a,37303))},37303:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(57437),i=a(2265),r=a(95710),n=a(67842);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var c=a(85790),d=a(28203);function o(e){let{selectedDate:t}=e,[a,r]=(0,i.useState)([]),[n,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(""),[o,m]=(0,i.useState)(null),[u,x]=(0,i.useState)(""),[h,y]=(0,i.useState)(!1),p=async()=>{let e=await fetch("/api/workouts?date=".concat(t));r(await e.json())};(0,i.useEffect)(()=>{p()},[t]),(0,i.useEffect)(()=>{let e=!0,t=async()=>{let t=await fetch("/api/workout-types?q=".concat(encodeURIComponent(c))),a=await t.json();e&&l(a)};return c.length>=1?t():l([]),()=>{e=!1}},[c]);let f=(0,i.useMemo)(()=>a.reduce((e,t)=>e+t.caloriesBurned,0),[a]),j=async e=>{if(e.preventDefault(),o&&u){y(!0);try{let e=Math.round(Number(u)*o.caloriesPerMin);if(!(await fetch("/api/workouts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:t,workoutTypeId:o.id,duration:Number(u),caloriesBurned:e})})).ok)throw Error("Failed");d(""),m(null),x(""),await p()}finally{y(!1)}}},g=async e=>{y(!0);try{await fetch("/api/workouts/".concat(e),{method:"DELETE"}),await p()}finally{y(!1)}};return(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsxs)("form",{onSubmit:j,className:"card grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"label",children:"Exercise"}),(0,s.jsx)("input",{className:"input-field",placeholder:"Search exercise...",value:o?o.name:c,onChange:e=>{m(null),d(e.target.value)},autoComplete:"off"}),n.length>0&&!o&&(0,s.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-sm max-h-56 overflow-auto",children:n.map(e=>(0,s.jsxs)("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-gray-50",onClick:()=>{m(e),d("")},children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.caloriesPerMin," cal/min"]})]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Duration (min)"}),(0,s.jsx)("input",{className:"input-field",type:"number",step:"1",value:u,onChange:e=>x(e.target.value),required:!0})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"btn-primary w-full",disabled:h||!o,children:"Add Workout"})})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Workouts"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Total burned: ",Math.round(f)," kcal"]})]}),(0,s.jsxs)("div",{className:"mt-3 divide-y",children:[a.map(e=>(0,s.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.workoutType.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.duration," min \xb7 ",Math.round(e.caloriesBurned)," kcal"]})]}),(0,s.jsx)("button",{className:"text-danger-600 hover:underline",onClick:()=>g(e.id),disabled:h,children:"Delete"})]},e.id)),0===a.length&&(0,s.jsx)("div",{className:"text-sm text-gray-500 py-6",children:"No workouts for this date."})]})]})]})}function m(){let[e,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(""),[n,l]=(0,i.useState)({name:"",category:"CARDIO",caloriesPerMin:""}),[c,d]=(0,i.useState)(!1),o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=await fetch("/api/workout-types".concat(e?"?q=".concat(encodeURIComponent(e)):""));t(await a.json())};(0,i.useEffect)(()=>{o()},[]);let m=(0,i.useMemo)(()=>e.length,[e]),u=async e=>{e.preventDefault(),d(!0);try{let e={name:n.name.trim(),category:n.category,caloriesPerMin:Number(n.caloriesPerMin)};if(!(await fetch("/api/workout-types",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed");l({name:"",category:"CARDIO",caloriesPerMin:""}),await o(a)}finally{d(!1)}},x=async e=>{d(!0);try{await fetch("/api/workout-types/".concat(e),{method:"DELETE"}),await o(a)}finally{d(!1)}};return(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsxs)("form",{onSubmit:u,className:"card grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Name"}),(0,s.jsx)("input",{className:"input-field",value:n.name,onChange:e=>l({...n,name:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Category"}),(0,s.jsxs)("select",{className:"input-field",value:n.category,onChange:e=>l({...n,category:e.target.value}),children:[(0,s.jsx)("option",{value:"CARDIO",children:"Cardio"}),(0,s.jsx)("option",{value:"STRENGTH",children:"Strength"}),(0,s.jsx)("option",{value:"FLEXIBILITY",children:"Flexibility"}),(0,s.jsx)("option",{value:"SPORTS",children:"Sports"}),(0,s.jsx)("option",{value:"DAILY_ACTIVITIES",children:"Daily Activities"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Calories/min"}),(0,s.jsx)("input",{className:"input-field",type:"number",step:"0.1",value:n.caloriesPerMin,onChange:e=>l({...n,caloriesPerMin:e.target.value}),required:!0})]}),(0,s.jsx)("div",{className:"md:col-span-4",children:(0,s.jsx)("button",{className:"btn-primary w-full",disabled:c,children:"Add Exercise"})})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[m," types"]}),(0,s.jsx)("input",{placeholder:"Search exercises...",className:"input-field sm:max-w-xs",value:a,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"===e.key&&o(a)}})]}),(0,s.jsxs)("div",{className:"mt-4 divide-y",children:[e.map(e=>(0,s.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.category," \xb7 ",e.caloriesPerMin," cal/min"]})]}),(0,s.jsx)("button",{className:"text-danger-600 hover:underline",onClick:()=>x(e.id),disabled:c,children:"Delete"})]},e.id)),0===e.length&&(0,s.jsx)("div",{className:"text-sm text-gray-500 py-6",children:"No exercises found."})]})]})]})}function u(e){let{selectedDate:t}=e;return(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"font-semibold mb-2",children:"Workout Progress"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Selected date: ",t]}),(0,s.jsx)("div",{className:"mt-4 text-gray-500",children:"Charts and weekly summaries coming next."})]})}function x(){let[e,t]=(0,i.useState)("tracker"),[a,x]=(0,i.useState)(new Date().toISOString().split("T")[0]),h=[{id:"tracker",label:"Workout Tracker",icon:n.Z},{id:"database",label:"Exercise Database",icon:l},{id:"progress",label:"Workout Progress",icon:c.Z}];return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workout Tracking"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Track your exercises and calories burned to complete your fitness picture"})]}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card mb-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:a,onChange:e=>x(e.target.value),className:"input-field max-w-xs"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Today: ",new Date().toLocaleDateString()]})]})}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-8",children:h.map(a=>{let i=a.icon;return(0,s.jsxs)("button",{onClick:()=>t(a.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors duration-200 ".concat(e===a.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,s.jsx)(i,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:a.label})]},a.id)})})})}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:["tracker"===e&&(0,s.jsx)(o,{selectedDate:a}),"database"===e&&(0,s.jsx)(m,{}),"progress"===e&&(0,s.jsx)(u,{selectedDate:a})]},e)]})})}}},function(e){e.O(0,[833,971,938,744],function(){return e(e.s=1622)}),_N_E=e.O()}]);