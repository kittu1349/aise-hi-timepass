(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{23603:function(e,t,n){Promise.resolve().then(n.bind(n,14743))},14743:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(57437),a=n(2265),s=n(24033);function l(){let e=(0,s.useRouter)(),t=(0,s.useSearchParams)().get("next")||"/profile",[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[d,f]=(0,a.useState)(null),p=async r=>{r.preventDefault(),u(!0),f(null);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:i})}),a=await r.json();if(!r.ok)throw Error((null==a?void 0:a.error)||"Failed");e.replace(t)}catch(e){f(e.message||"Failed to login")}finally{u(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto px-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Login"}),(0,r.jsxs)("form",{onSubmit:p,className:"card grid gap-3",children:[d&&(0,r.jsx)("div",{className:"text-sm text-danger-600",children:d}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"label",children:"Email"}),(0,r.jsx)("input",{className:"input-field",type:"email",value:n,onChange:e=>l(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"label",children:"Password"}),(0,r.jsx)("input",{className:"input-field",type:"password",value:i,onChange:e=>o(e.target.value),required:!0})]}),(0,r.jsx)("button",{className:"btn-primary",disabled:c,children:"Login"}),(0,r.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>e.push("/auth/register?next=".concat(encodeURIComponent(t))),children:"Create an account"})]})]})})}},30622:function(e,t,n){"use strict";var r=n(2265),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},57437:function(e,t,n){"use strict";e.exports=n(30622)},24033:function(e,t,n){e.exports=n(15313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=23603)}),_N_E=e.O()}]);