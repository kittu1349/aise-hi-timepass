(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{19133:function(e,s,i){Promise.resolve().then(i.bind(i,59939))},59939:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return v}});var t=i(57437),a=i(2265),l=i(95710),r=i(61865),d=i(67972),c=i(71357),n=i(4893),m=i(66654),x=i(90998),o=i(92295),h=i(5925),u=i(1657);let g=[{value:"SEDENTARY",label:"Sedentary",description:"Little/no exercise"},{value:"LIGHTLY_ACTIVE",label:"Lightly Active",description:"Light exercise 1-3 days/week"},{value:"MODERATELY_ACTIVE",label:"Moderately Active",description:"Moderate exercise 3-5 days/week"},{value:"VERY_ACTIVE",label:"Very Active",description:"Hard exercise 6-7 days/week"},{value:"EXTRA_ACTIVE",label:"Extra Active",description:"Very hard exercise & physical job"}],p=[{value:"MAINTENANCE",label:"Maintenance",description:"Maintain current weight",deficit:0,rate:"0 kg/week"},{value:"SLOW",label:"Slow Loss",description:"Gentle weight loss",deficit:250,rate:"0.25 kg/week"},{value:"MODERATE",label:"Moderate Loss",description:"Steady weight loss",deficit:500,rate:"0.5 kg/week"},{value:"FAST",label:"Fast Loss",description:"Aggressive weight loss",deficit:750,rate:"0.75 kg/week"},{value:"VERY_FAST",label:"Very Fast Loss",description:"Maximum weight loss",deficit:1e3,rate:"1 kg/week"}];function v(){let[e,s]=(0,a.useState)(1),[i,v]=(0,a.useState)(null),{register:j,handleSubmit:b,watch:y,formState:{errors:N},reset:f}=(0,r.cI)(),w=y();(0,a.useEffect)(()=>{(async()=>{let e=await fetch("/api/profile");if(!e.ok)return;let s=await e.json();s&&(f({name:s.name||"",email:s.email||"",age:s.age||void 0,gender:s.gender||void 0,height:s.height||void 0,weight:s.weight||void 0,goalWeight:s.goalWeight||void 0,activityLevel:s.activityLevel||void 0,deficitSpeed:s.deficitSpeed||void 0}),s.bmr&&s.tdee&&s.targetCalories&&v({bmr:s.bmr,tdee:s.tdee,targetCalories:s.targetCalories}))})()},[f]);let E=()=>{if(w.age&&w.gender&&w.weight&&w.height&&w.activityLevel){let e=(0,u.bo)(w.age,w.gender,w.weight,w.height),s=(0,u.VG)(e,w.activityLevel),i=(0,u.yf)(s,w.deficitSpeed||"MODERATE");v({bmr:e,tdee:s,targetCalories:i})}},A=async e=>{try{if(!(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save");h.toast.success("Profile saved successfully!"),E()}catch(e){h.toast.error("Failed to save profile")}},T=[{number:1,title:"Basic Info",description:"Personal details"},{number:2,title:"Body Metrics",description:"Physical measurements"},{number:3,title:"Goals & Activity",description:"Fitness preferences"},{number:4,title:"Review",description:"Confirm your settings"}];return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-purple-50 py-12",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 gradient-primary rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(d.Z,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Let's set up your account to provide personalized recommendations"})]}),(0,t.jsx)("div",{className:"mb-12",children:(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"flex items-center space-x-4 overflow-x-auto pb-4",children:T.map((s,i)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center min-w-[120px]",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-colors duration-200 ".concat(e>=s.number?"bg-primary-600 text-white":"bg-gray-200 text-gray-500"),children:s.number}),(0,t.jsxs)("div",{className:"text-center mt-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:s.title}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:s.description})]})]}),i<T.length-1&&(0,t.jsx)("div",{className:"w-16 h-0.5 transition-colors duration-200 ".concat(e>s.number?"bg-primary-600":"bg-gray-200")})]},s.number))})})}),(0,t.jsx)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"card max-w-2xl mx-auto",children:(0,t.jsxs)("form",{onSubmit:b(A),children:[1===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Basic Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Full Name"}),(0,t.jsx)("input",{...j("name",{required:"Name is required"}),className:"input-field",placeholder:"Enter your full name"}),N.name&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Email"}),(0,t.jsx)("input",{...j("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}}),className:"input-field",type:"email",placeholder:"Enter your email"}),N.email&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.email.message})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Age"}),(0,t.jsx)("input",{...j("age",{required:"Age is required",min:{value:18,message:"Must be at least 18 years old"},max:{value:100,message:"Must be less than 100 years old"}}),className:"input-field",type:"number",placeholder:"25"}),N.age&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.age.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Gender"}),(0,t.jsxs)("select",{...j("gender",{required:"Gender is required"}),className:"input-field",children:[(0,t.jsx)("option",{value:"",children:"Select gender"}),(0,t.jsx)("option",{value:"MALE",children:"Male"}),(0,t.jsx)("option",{value:"FEMALE",children:"Female"})]}),N.gender&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.gender.message})]})]})]}),2===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Body Measurements"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"label flex items-center space-x-2",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Height (cm)"})]}),(0,t.jsx)("input",{...j("height",{required:"Height is required",min:{value:120,message:"Height must be at least 120 cm"},max:{value:250,message:"Height must be less than 250 cm"}}),className:"input-field",type:"number",step:"0.1",placeholder:"175"}),N.height&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.height.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"label flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Current Weight (kg)"})]}),(0,t.jsx)("input",{...j("weight",{required:"Weight is required",min:{value:30,message:"Weight must be at least 30 kg"},max:{value:300,message:"Weight must be less than 300 kg"}}),className:"input-field",type:"number",step:"0.1",placeholder:"70"}),N.weight&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.weight.message})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"label flex items-center space-x-2",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Goal Weight (kg)"})]}),(0,t.jsx)("input",{...j("goalWeight",{required:"Goal weight is required",min:{value:30,message:"Goal weight must be at least 30 kg"},max:{value:300,message:"Goal weight must be less than 300 kg"}}),className:"input-field",type:"number",step:"0.1",placeholder:"65"}),N.goalWeight&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.goalWeight.message})]})]}),3===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Activity & Goals"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"label flex items-center space-x-2",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Activity Level"})]}),(0,t.jsx)("div",{className:"grid gap-3",children:g.map(e=>(0,t.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{...j("activityLevel",{required:"Activity level is required"}),type:"radio",value:e.value,className:"mr-3 text-primary-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]},e.value))}),N.activityLevel&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.activityLevel.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Weight Loss Speed"}),(0,t.jsx)("div",{className:"grid gap-3",children:p.map(e=>(0,t.jsxs)("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{...j("deficitSpeed",{required:"Deficit speed is required"}),type:"radio",value:e.value,className:"mr-3 text-primary-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]}),(0,t.jsx)("div",{className:"text-sm text-primary-600 font-medium",children:e.rate})]},e.value))}),N.deficitSpeed&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.deficitSpeed.message})]}),(0,t.jsx)("button",{type:"button",onClick:E,className:"w-full btn-primary",children:"Calculate My Targets"}),i&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-6 p-4 bg-primary-50 rounded-lg border border-primary-200",children:[(0,t.jsx)("h3",{className:"font-semibold text-primary-900 mb-3",children:"Your Calculated Targets"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:Math.round(i.bmr)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"BMR"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:Math.round(i.tdee)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"TDEE"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:Math.round(i.targetCalories)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Target Calories"})]})]})]})]}),4===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Review Your Profile"}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Name"}),(0,t.jsx)("div",{className:"font-medium",children:w.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Email"}),(0,t.jsx)("div",{className:"font-medium",children:w.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Age"}),(0,t.jsxs)("div",{className:"font-medium",children:[w.age," years"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Gender"}),(0,t.jsx)("div",{className:"font-medium",children:w.gender})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Height"}),(0,t.jsxs)("div",{className:"font-medium",children:[w.height," cm"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Current Weight"}),(0,t.jsxs)("div",{className:"font-medium",children:[w.weight," kg"]})]})]}),i&&(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Your Targets"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-primary-600",children:Math.round(i.bmr)}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"BMR (cal/day)"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-primary-600",children:Math.round(i.tdee)}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"TDEE (cal/day)"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-primary-600",children:Math.round(i.targetCalories)}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Target (cal/day)"})]})]})]})]}),(0,t.jsxs)("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,t.jsx)(o.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Save Profile"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:()=>s(Math.max(1,e-1)),disabled:1===e,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e<4?(0,t.jsx)("button",{type:"button",onClick:()=>s(Math.min(4,e+1)),className:"btn-primary",children:"Next"}):null]})]})},e)]})})}},1657:function(e,s,i){"use strict";i.d(s,{VG:function(){return d},bo:function(){return r},cn:function(){return l},yf:function(){return c}});var t=i(57042),a=i(74769);function l(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];return(0,a.m6)((0,t.W)(s))}function r(e,s,i,t){return"male"===s.toLowerCase()?10*i+6.25*t-5*e+5:10*i+6.25*t-5*e-161}function d(e,s){return e*(({SEDENTARY:1.2,LIGHTLY_ACTIVE:1.375,MODERATELY_ACTIVE:1.55,VERY_ACTIVE:1.725,EXTRA_ACTIVE:1.9})[s]||1.2)}function c(e,s){return e+(({MAINTENANCE:0,SLOW:-250,MODERATE:-500,FAST:-750,VERY_FAST:-1e3})[s]||-500)}}},function(e){e.O(0,[833,985,416,971,938,744],function(){return e(e.s=19133)}),_N_E=e.O()}]);